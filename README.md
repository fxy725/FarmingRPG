# ğŸŒ¾ Farming RPG - Unity 2D å†œåœºæ¨¡æ‹Ÿæ¸¸æˆ

ä¸€ä¸ªä½¿ç”¨ Unity 6000.0.43f1 å¼€å‘çš„å…¨åŠŸèƒ½ 2D å†œåœºæ¨¡æ‹Ÿ RPG æ¸¸æˆï¼ŒåŒ…å«å®Œæ•´çš„å†œåœºç»è¥ã€NPC äº¤äº’ã€ç‰©å“ç®¡ç†å’Œå­˜æ¡£ç³»ç»Ÿã€‚

## ğŸ® æ¸¸æˆç‰¹è‰²

### ğŸŒ± å†œåœºç»è¥ç³»ç»Ÿ
- **ä½œç‰©ç§æ¤ä¸æ”¶è·**ï¼šå®Œæ•´çš„ä½œç‰©ç”Ÿé•¿å‘¨æœŸï¼Œæ”¯æŒå­£èŠ‚æ€§ç§æ¤
- **å¤šæ ·åŒ–å·¥å…·**ï¼šé”„å¤´ã€æµ‡æ°´å£¶ã€é•°åˆ€ã€æ–§å¤´ã€åå­—é•ç­‰å†œåœºå·¥å…·
- **åœŸåœ°ç®¡ç†**ï¼šå¯æŒ–æ˜ã€æµ‡æ°´ã€ç§æ¤çš„åŠ¨æ€åœ°å—ç³»ç»Ÿ
- **æ”¶è·åŠ¨ç”»**ï¼šä¸°å¯Œçš„ä½œç‰©æ”¶è·ç‰¹æ•ˆå’ŒåŠ¨ç”»

### ğŸ’ ç‰©å“ä¸åº“å­˜ç³»ç»Ÿ
- **ç‰©å“åˆ†ç±»**ï¼šç§å­ã€å•†å“ã€å·¥å…·ã€å®¶å…·ç­‰å¤šç§ç‰©å“ç±»å‹
- **æ‹–æ‹½ç•Œé¢**ï¼šç›´è§‚çš„ç‰©å“æ‹–æ‹½å’Œç®¡ç†ç³»ç»Ÿ
- **ç‰©å“è¯¦æƒ…**ï¼šæ¯ä¸ªç‰©å“éƒ½æœ‰è¯¦ç»†çš„æè¿°å’Œç”¨é€”
- **å­˜å‚¨å®¹é‡**ï¼šå¯æ‰©å±•çš„åº“å­˜å®¹é‡ç³»ç»Ÿ

### ğŸ¤– æ™ºèƒ½ NPC ç³»ç»Ÿ
- **è·¯å¾„å¯»æ‰¾**ï¼šåŸºäº A* ç®—æ³•çš„æ™ºèƒ½å¯¼èˆªç³»ç»Ÿ
- **æ—¥ç¨‹å®‰æ’**ï¼šNPC æœ‰è‡ªå·±çš„æ—¥å¸¸ä½œæ¯å’Œè¡Œä¸ºæ¨¡å¼
- **åœºæ™¯åˆ‡æ¢**ï¼šNPC å¯ä»¥åœ¨ä¸åŒåœºæ™¯é—´ç§»åŠ¨å’Œäº¤äº’
- **åŠ¨ç”»ç³»ç»Ÿ**ï¼šä¸°å¯Œçš„è§’è‰²åŠ¨ç”»å’Œè¡¨æƒ…ç³»ç»Ÿ

### â° æ—¶é—´ä¸å¤©æ°”ç³»ç»Ÿ
- **åŠ¨æ€æ—¶é—´**ï¼šå®æ—¶çš„å¹´ã€å­£ã€æ—¥ã€æ—¶ã€åˆ†ç³»ç»Ÿ
- **å­£èŠ‚å˜åŒ–**ï¼šæ˜¥å¤ç§‹å†¬çš„å¾ªç¯ï¼Œå½±å“ä½œç‰©ç”Ÿé•¿
- **å¤©æ°”ç³»ç»Ÿ**ï¼šæ™´å¤©ã€é›¨å¤©ã€é›ªå¤©ç­‰ä¸åŒå¤©æ°”çŠ¶æ€
- **æ¸¸æˆæ—¶é’Ÿ**ï¼šå¯æš‚åœçš„æ¸¸æˆæ—¶é—´æœºåˆ¶

### ğŸ’¾ å®Œæ•´å­˜æ¡£ç³»ç»Ÿ
- **JSON åºåˆ—åŒ–**ï¼šä½¿ç”¨ Newtonsoft.Json è¿›è¡Œæ•°æ®åºåˆ—åŒ–
- **åœºæ™¯æ•°æ®ä¿å­˜**ï¼šæ¯ä¸ªåœºæ™¯çš„ç‰©å“ã€NPCã€ä½œç‰©çŠ¶æ€éƒ½å¯ä¿å­˜
- **GUID ç³»ç»Ÿ**ï¼šæ¯ä¸ªå¯ä¿å­˜å¯¹è±¡éƒ½æœ‰å”¯ä¸€æ ‡è¯†ç¬¦
- **è‡ªåŠ¨ä¿å­˜**ï¼šæ”¯æŒæ‰‹åŠ¨å’Œè‡ªåŠ¨å­˜æ¡£åŠŸèƒ½

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒå¼•æ“
- **Unity Version**: 6000.0.43f1 (Unity 6)
- **Target Framework**: .NET Standard 2.1
- **Language Version**: C# 9.0
- **Platform**: Windows Standalone (å¯æ‰©å±•åˆ°å…¶ä»–å¹³å°)

### Unity åŒ…ä¾èµ–

#### 2D æ¸²æŸ“ä¸åŠ¨ç”»
```json
"com.unity.2d.animation": "10.1.4"     // 2D éª¨éª¼åŠ¨ç”»ç³»ç»Ÿ
"com.unity.2d.pixel-perfect": "5.0.3"  // åƒç´ å®Œç¾æ¸²æŸ“
"com.unity.2d.sprite": "1.0.0"         // 2D ç²¾çµç³»ç»Ÿ
"com.unity.2d.spriteshape": "10.0.7"   // 2D å½¢çŠ¶å·¥å…·
"com.unity.2d.tilemap": "1.0.0"        // ç“¦ç‰‡åœ°å›¾ç³»ç»Ÿ
"com.unity.2d.psdimporter": "9.0.3"    // PSD æ–‡ä»¶å¯¼å…¥å™¨
```

#### ç›¸æœºä¸è§†è§‰æ•ˆæœ
```json
"com.unity.cinemachine": "2.10.3"      // æ™ºèƒ½ç›¸æœºç³»ç»Ÿ
"com.unity.timeline": "1.8.7"          // æ—¶é—´çº¿å’Œåºåˆ—å™¨
```

#### AI ä¸å¯¼èˆª
```json
"com.unity.ai.navigation": "2.0.6"     // AI å¯¼èˆªç½‘æ ¼ç³»ç»Ÿ
```

#### ç”¨æˆ·ç•Œé¢
```json
"com.unity.ugui": "2.0.0"              // Unity GUI ç³»ç»Ÿ
```

#### æ•°æ®å¤„ç†
```json
"com.unity.nuget.newtonsoft-json": "3.2.1"  // JSON åºåˆ—åŒ–åº“
```

#### å¼€å‘å·¥å…·
```json
"com.unity.ide.visualstudio": "2.0.23" // Visual Studio é›†æˆ
"com.unity.ide.rider": "3.0.31"        // JetBrains Rider é›†æˆ
"com.unity.test-framework": "1.4.6"    // å•å…ƒæµ‹è¯•æ¡†æ¶
```

## ğŸ“ é¡¹ç›®ç»“æ„

### è„šæœ¬æ¶æ„
```
Assets/Scripts/
â”œâ”€â”€ Animation/          # åŠ¨ç”»æ§åˆ¶ç³»ç»Ÿ
â”œâ”€â”€ AStar/             # A* è·¯å¾„å¯»æ‰¾ç®—æ³•
â”œâ”€â”€ Crop/              # ä½œç‰©ç”Ÿé•¿ç³»ç»Ÿ
â”œâ”€â”€ Enums/             # æšä¸¾å®šä¹‰
â”œâ”€â”€ Events/            # äº‹ä»¶ç³»ç»Ÿ
â”œâ”€â”€ GameManager/       # æ¸¸æˆç®¡ç†å™¨
â”œâ”€â”€ HelperClasses/     # è¾…åŠ©å·¥å…·ç±»
â”œâ”€â”€ Inventory/         # åº“å­˜ç®¡ç†ç³»ç»Ÿ
â”œâ”€â”€ Item/              # ç‰©å“ç³»ç»Ÿ
â”œâ”€â”€ Map/               # åœ°å›¾ç½‘æ ¼ç³»ç»Ÿ
â”œâ”€â”€ Misc/              # æ‚é¡¹å·¥å…·
â”œâ”€â”€ NPC/               # NPC è¡Œä¸ºç³»ç»Ÿ
â”œâ”€â”€ Player/            # ç©å®¶æ§åˆ¶å™¨
â”œâ”€â”€ SaveSystem/        # å­˜æ¡£ç³»ç»Ÿ
â”œâ”€â”€ Scene/             # åœºæ™¯ç®¡ç†
â”œâ”€â”€ Sounds/            # éŸ³é¢‘ç®¡ç†
â”œâ”€â”€ TimeSystem/        # æ—¶é—´ç³»ç»Ÿ
â”œâ”€â”€ UI/                # ç”¨æˆ·ç•Œé¢
â”œâ”€â”€ Utilities/         # å®ç”¨å·¥å…·
â””â”€â”€ VFX/               # è§†è§‰ç‰¹æ•ˆ
```

### èµ„æºç»„ç»‡
```
Assets/
â”œâ”€â”€ Animation/         # åŠ¨ç”»æ–‡ä»¶
â”‚   â”œâ”€â”€ Crop/         # ä½œç‰©åŠ¨ç”»
â”‚   â”œâ”€â”€ NPC/          # NPC åŠ¨ç”»
â”‚   â””â”€â”€ Player/       # ç©å®¶åŠ¨ç”»
â”œâ”€â”€ Fonts/            # å­—ä½“èµ„æº (LXGWMarkerGothic)
â”œâ”€â”€ Prefabs/          # é¢„åˆ¶ä½“
â”‚   â”œâ”€â”€ Crop/         # ä½œç‰©é¢„åˆ¶ä½“
â”‚   â”œâ”€â”€ Item/         # ç‰©å“é¢„åˆ¶ä½“
â”‚   â”œâ”€â”€ NPC/          # NPC é¢„åˆ¶ä½“
â”‚   â””â”€â”€ UI/           # UI é¢„åˆ¶ä½“
â”œâ”€â”€ Scenes/           # æ¸¸æˆåœºæ™¯
â”‚   â”œâ”€â”€ PersistentScene.unity    # æŒä¹…åŒ–åœºæ™¯
â”‚   â”œâ”€â”€ Scene1_Farm.unity        # å†œåœºåœºæ™¯
â”‚   â”œâ”€â”€ Scene2_Field.unity       # ç”°é‡åœºæ™¯
â”‚   â””â”€â”€ Scene3_Cabin.unity       # å°å±‹åœºæ™¯
â”œâ”€â”€ Sounds/           # éŸ³é¢‘èµ„æº
â”‚   â”œâ”€â”€ Effects/      # éŸ³æ•ˆ
â”‚   â”œâ”€â”€ Music/        # èƒŒæ™¯éŸ³ä¹
â”‚   â””â”€â”€ AmbientSounds/ # ç¯å¢ƒéŸ³
â”œâ”€â”€ Sprites/          # å›¾åƒèµ„æº
â””â”€â”€ Tilemap/          # ç“¦ç‰‡åœ°å›¾èµ„æº
```

## ğŸ—ï¸ æ ¸å¿ƒç³»ç»Ÿæ¶æ„

### å•ä¾‹æ¨¡å¼ç®¡ç†å™¨
é¡¹ç›®å¹¿æ³›ä½¿ç”¨å•ä¾‹æ¨¡å¼æ¥ç®¡ç†æ ¸å¿ƒç³»ç»Ÿï¼š
- `GameManager` - æ¸¸æˆä¸»ç®¡ç†å™¨
- `InventoryManager` - åº“å­˜ç®¡ç†
- `GridPropertiesManager` - ç½‘æ ¼å±æ€§ç®¡ç†
- `NPCManager` - NPC ç®¡ç†
- `TimeManager` - æ—¶é—´ç®¡ç†
- `UIManager` - UI ç®¡ç†
- `SaveLoadManager` - å­˜æ¡£ç®¡ç†

### äº‹ä»¶é©±åŠ¨æ¶æ„
ä½¿ç”¨ `EventHandler` å®ç°æ¾è€¦åˆçš„äº‹ä»¶ç³»ç»Ÿï¼š
```csharp
// æ—¶é—´æ¨è¿›äº‹ä»¶
EventHandler.AdvanceGameDayEvent += AdvanceDay;
// åœºæ™¯åŠ è½½äº‹ä»¶
EventHandler.AfterSceneLoadEvent += AfterSceneLoaded;
// åº“å­˜æ›´æ–°äº‹ä»¶
EventHandler.InventoryUpdatedEvent += InventoryUpdated;
```

### æ•°æ®æŒä¹…åŒ–
å®ç° `ISaveable` æ¥å£çš„å¯¹è±¡å¯ä»¥è‡ªåŠ¨ä¿å­˜ï¼š
```csharp
public interface ISaveable
{
    string ISaveableUniqueID { get; set; }
    GameObjectSave GameObjectSave { get; set; }
    void SaveableRegister();
    void SaveableDeregister();
    GameObjectSave SaveData();
    void LoadData(GameSave gameSave);
}
```

### ç½‘æ ¼åŒ–åœ°å›¾ç³»ç»Ÿ
ä½¿ç”¨ Unity Tilemap ç³»ç»Ÿå®ç°ï¼š
- å¯æŒ–æ˜åœŸåœ°æ£€æµ‹
- ä½œç‰©ç§æ¤ä½ç½®ç®¡ç†
- NPC å¯¼èˆªé˜»æŒ¡
- ç‰©å“æ”¾ç½®éªŒè¯

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### ä½œç‰©ç”Ÿé•¿ç³»ç»Ÿ
```csharp
// ä½œç‰©è¯¦æƒ…é…ç½®
[System.Serializable]
public class CropDetails
{
    public int seedItemCode;           // ç§å­ç‰©å“ä»£ç 
    public int[] growthDays;          // ç”Ÿé•¿é˜¶æ®µå¤©æ•°
    public GameObject[] growthPrefab;  // ç”Ÿé•¿é˜¶æ®µé¢„åˆ¶ä½“
    public Season[] seasons;          // é€‚å®œç”Ÿé•¿å­£èŠ‚
    public HarvestActionEffect harvestActionEffect; // æ”¶è·ç‰¹æ•ˆ
}
```

### A* å¯»è·¯ç®—æ³•
ä¸º NPC å®ç°æ™ºèƒ½å¯¼èˆªï¼š
```csharp
public class AStar : MonoBehaviour
{
    // æ„å»ºä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„
    public bool BuildPath(SceneName sceneName, Vector2Int startGridPosition, 
                         Vector2Int endGridPosition, Stack<NPCMovementStep> npcMovementStepStack)
}
```

### ç‰©å“ç³»ç»Ÿ
æ”¯æŒå¤šç§ç‰©å“ç±»å‹å’Œå±æ€§ï¼š
```csharp
public enum ItemType
{
    Seed,              // ç§å­
    Commodity,         // å•†å“
    Watering_tool,     // æµ‡æ°´å·¥å…·
    Hoeing_tool,       // é”„åœ°å·¥å…·
    Chopping_tool,     // ç ä¼å·¥å…·
    Breaking_tool,     // ç ´åå·¥å…·
    Reaping_tool,      // æ”¶å‰²å·¥å…·
    Collecting_tool,   // æ”¶é›†å·¥å…·
    Furniture          // å®¶å…·
}
```

## ğŸ¨ ç¾æœ¯ç‰¹è‰²

- **åƒç´ è‰ºæœ¯é£æ ¼**ï¼šç»å…¸çš„ 2D åƒç´ è‰ºæœ¯è®¾è®¡
- **ä¸­æ–‡æœ¬åœ°åŒ–**ï¼šå®Œæ•´çš„ä¸­æ–‡ç•Œé¢å’Œå­—ä½“æ”¯æŒ
- **ä¸°å¯ŒåŠ¨ç”»**ï¼šè§’è‰²ã€ä½œç‰©ã€å·¥å…·ä½¿ç”¨åŠ¨ç”»
- **å­£èŠ‚ä¸»é¢˜**ï¼šä¸åŒå­£èŠ‚çš„è§†è§‰è¡¨ç°
- **ç²’å­ç‰¹æ•ˆ**ï¼šæ”¶è·ã€å¤©æ°”ã€å·¥å…·ä½¿ç”¨ç‰¹æ•ˆ

## ğŸ”§ å¼€å‘ç¯å¢ƒ

### æ¨èé…ç½®
- **Unity ç‰ˆæœ¬**: 6000.0.43f1 æˆ–æ›´é«˜
- **IDE**: Visual Studio 2022 æˆ– JetBrains Rider
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11 (ä¸»è¦å¼€å‘å¹³å°)
- **.NET**: .NET Standard 2.1 å…¼å®¹

### æ„å»ºè®¾ç½®
- **ç›®æ ‡å¹³å°**: Windows Standalone
- **æ¶æ„**: x64
- **è„šæœ¬åç«¯**: IL2CPP
- **API å…¼å®¹çº§åˆ«**: .NET Standard 2.1

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

- **å¯¹è±¡æ± **ï¼š`PoolManager` ç®¡ç†å¯é‡ç”¨å¯¹è±¡
- **LOD ç³»ç»Ÿ**ï¼šæ ¹æ®è·ç¦»è°ƒæ•´ç»†èŠ‚çº§åˆ«
- **çº¹ç†å‹ç¼©**ï¼šä¼˜åŒ–çš„ç²¾çµå›¾é›†æ‰“åŒ…
- **éŸ³é¢‘å‹ç¼©**ï¼šé«˜æ•ˆçš„éŸ³é¢‘å‹ç¼©è®¾ç½®
- **åœºæ™¯åˆ†å‰²**ï¼šå¤šåœºæ™¯æ¶æ„å‡å°‘å†…å­˜å ç”¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. **ç¯å¢ƒå‡†å¤‡**
   ```bash
   # ç¡®ä¿å®‰è£… Unity 6000.0.43f1
   # å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
   git clone https://github.com/fxy725/Farming-RPG.git
   ```

2. **æ‰“å¼€é¡¹ç›®**
   - ä½¿ç”¨ Unity Hub æ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹
   - ç­‰å¾…é¡¹ç›®å¯¼å…¥å®Œæˆ

3. **è¿è¡Œæ¸¸æˆ**
   - æ‰“å¼€ `PersistentScene` åœºæ™¯
   - ç‚¹å‡»æ’­æ”¾æŒ‰é’®å¼€å§‹æ¸¸æˆ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

**å¼€å‘è€…**: fxy725  
**å¼•æ“ç‰ˆæœ¬**: Unity 6000.0.43f1  
**æœ€åæ›´æ–°**: 2025å¹´1æœˆ  

> è¿™æ˜¯ä¸€ä¸ªå±•ç¤ºç°ä»£Unity 2Dæ¸¸æˆå¼€å‘æŠ€æœ¯çš„å®Œæ•´é¡¹ç›®ï¼ŒåŒ…å«äº†ä»åŸºç¡€ç³»ç»Ÿåˆ°é«˜çº§åŠŸèƒ½çš„å…¨é¢å®ç°ã€‚ 